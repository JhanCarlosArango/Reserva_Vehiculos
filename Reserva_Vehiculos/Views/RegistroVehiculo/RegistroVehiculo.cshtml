@model Obj_View_Vehiculo
@{
    ViewData["Title"] = "RegistroVehiculo";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<form method="post">
    <div class="container text-center">
        <h1>Registro de vehículos</h1><br>
        <div class="row justify-content-center">
            <div class="col-md-4">
                <div class="form-group mb-4">
                    <div class="form-floating">
                        <select class="form-select" id="floatingSelectCategoria"
                            aria-label="Floating label select example">
                            <option ></option>
                            @foreach(var item in Model.ListaCategorias){

                            <option value="@item.id_categoria">@item.tipo_vehiculo</option>
                            }

                        </select>
                        <label for="floatingSelectCategoria">Categoría</label>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group mb-4">
                    <div class="form-floating">
                        <select class="form-select" id="floatingSelect" aria-label="Floating label select example">
                           <option ></option>
                            @foreach(var item in Model.ListaMarca){

                            <option value="@item.id_marca">@item.nombre_marca</option>
                            }
                        </select>
                        <label for="floatingSelect">Marca</label>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group mb-4">
                    <input type="text" class="form-control form-control-lg" id="input1" style="height: 50px;"
                        placeholder="Modelo">
                </div>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-md-4">
                <div class="form-group mb-4">
                    <input type="number" class="form-control form-control-lg" id="input2" style="height: 50px;"
                        placeholder="Número de chasis">
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group mb-4">
                    <input type="number" class="form-control form-control-lg" id="input3" style="height: 50px;"
                        placeholder="Modelo de motor">
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group mb-4">
                    <input type="number" class="form-control form-control-lg" id="input4" style="height: 50px;"
                        placeholder="Cilindraje">
                </div>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-md-4">
                <div class="form-group mb-4">
                    <input type="number" class="form-control form-control-lg" id="input5" style="height: 50px;"
                        placeholder="Capacidad de carga">
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group mb-4">
                    <input type="number" class="form-control form-control-lg" id="input6" style="height: 50px;"
                        placeholder="Capacidad de pasajeros">
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group mb-4">
                    <div class="form-floating">
                        <select class="form-select" id="floatingSelect" aria-label="Floating label select example">
                            <option selected>Gasolina</option>
                            <option value="1">Diésel</option>
                            <option value="2">Gas natural</option>
                        </select>
                        <label for="floatingSelect">Tipo de combustible</label>
                    </div>
                </div>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-md-4">
                <div class="form-group mb-4">
                    <input type="text" class="form-control form-control-lg" id="input7" style="height: 50px;"
                        placeholder="Tipo de caja">
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group mb-4">
                    <input type="text" class="form-control form-control-lg" id="input8" style="height: 50px;"
                        placeholder="Tipo de direccion">
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group mb-4">
                    <div class="form-floating">
                        <select class="form-select" id="floatingSelect" aria-label="Floating label select example">
                            <option selected>Blanco</option>
                            <option value="1">Negro</option>
                            <option value="2">Gris</option>
                            <option value="3">Plateado</option>
                            <option value="4">Azul</option>
                            <option value="5">Rojo</option>
                            <option value="6">Verde</option>
                            <option value="7">Amarillo</option>
                            <option value="8">Naranja</option>
                            <option value="9">Marrón</option>
                            <option value="10">Beige</option>
                            <option value="11">Blanco perlado</option>
                            <option value="12">Gris grafito</option>
                            <option value="13">Azul metálico</option>
                            <option value="14">Rojo cereza</option>
                            <option value="15">Verde esmeralda</option>
                            <option value="16">Amarillo limón</option>
                            <option value="17">Naranja quemado</option>
                            <option value="18">Marrón chocolate</option>
                            <option value="19">Rosa pastel</option>
                        </select>
                        <label for="floatingSelect">Color</label>
                    </div>
                </div>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-md-3">
                <div class="form-group mb-5">
                    <label for="fechaActual1">Fecha inicio de préstamo</label>
                    <input type="date" id="fechaActual1" class="form-control">


                    <script>
                        var inputFecha1 = document.getElementById('fechaActual1');
                        var fecha1 = new Date().toISOString().slice(0, 10);
                        inputFecha1.value = fecha1;
                    </script>
                </div>
            </div>
            <div class="col-md-3">
                <label for="fechaActual2">Fecha fin de préstamo</label>
                <input type="date" id="fechaActual2" class="form-control">

                <script>
                    var inputFecha2 = document.getElementById('fechaActual2');
                    var fecha2 = new Date().toISOString().slice(0, 10);
                    inputFecha2.value = fecha2;
                </script>
            </div>
        </div>

        <script>
            // Obtener los elementos del DOM
            const categoriaSelect = document.getElementById('floatingSelectCategoria');
            const tipoCajaInput = document.getElementById('input7');
            const tipoDireccionInput = document.getElementById('input8');

            // Función para llenar y deshabilitar los campos dependiendo de la categoría seleccionada
            function handleCategoriaChange() {
                const categoriaSeleccionada = parseInt(categoriaSelect.value);

                // Limpiar y habilitar los campos
                tipoCajaInput.value = '';
                tipoDireccionInput.value = '';
                tipoCajaInput.disabled = false;
                tipoDireccionInput.disabled = false;

                // Llenar y deshabilitar los campos según la categoría seleccionada
                switch (categoriaSeleccionada) {
                    case 1: // Categoría A
                        tipoCajaInput.value = 'Transmisión manual';
                        tipoDireccionInput.value = 'Dirección mecánica';
                        tipoCajaInput.disabled = true;
                        tipoDireccionInput.disabled = true;
                        break;
                    case 2: // Categoría B
                        tipoCajaInput.value = 'Transmisión automática';
                        tipoDireccionInput.value = 'Dirección hidráulica';
                        tipoCajaInput.disabled = true;
                        tipoDireccionInput.disabled = true;
                        break;
                    case 3: // Categoría C
                        tipoCajaInput.value = 'Transmisión automatizada';
                        tipoDireccionInput.value = 'Dirección hidráulica';
                        tipoCajaInput.disabled = true;
                        tipoDireccionInput.disabled = true;
                        break;
                    default:
                        // Si la categoría no coincide con ninguna de las anteriores, limpiar los campos y habilitarlos
                        tipoCajaInput.value = '';
                        tipoDireccionInput.value = '';
                        tipoCajaInput.disabled = false;
                        tipoDireccionInput.disabled = false;
                        break;
                }

            }

            // Escuchar los cambios en el select de categoría
            categoriaSelect.addEventListener('change', handleCategoriaChange);

            // Llamar a la función para establecer el estado inicial de los campos al cargar la página
            handleCategoriaChange();
        </script>





        <div class="row justify-content-center">
            <h2>Datos legales</h2>
            <h4 style="text-align: left;">Tipo de documento</h4>
            <div class="col-md-4">
                <div class="form-group mb-4">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault"
                            style="zoom: 1.5;">
                        <label class="form-check-label" for="flexCheckDefault" style="font-size: 20px;">
                            SOAT
                        </label>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group mb-2">
                    <input type="number" class="form-control form-control-lg" id="input9" style="height: 50px;"
                        placeholder="Número de documento">
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group mb-4">
                    <label for="fechaActual3">Fecha de documento</label>
                    <input type="date" id="fechaActual3" class="form-control">
                    <script>
                        var inputFecha3 = document.getElementById('fechaActual3');
                        var fecha3 = new Date().toISOString().slice(0, 10);
                        inputFecha3.value = fecha3;
                    </script>
                </div>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-md-4">
                <div class="form-group mb-4">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" checked
                            style="zoom: 1.5;">
                        <label class="form-check-label" for="flexCheckChecked" style="font-size: 20px;">
                            Revisión técnico-mecánica
                        </label>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group mb-4">
                    <input type="number" class="form-control form-control-lg" id="input10" style="height: 50px;"
                        placeholder="Número de documento">
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group mb-4">
                    <label for="fechaActual4">Fecha de documento</label>
                    <input type="date" id="fechaActual4" class="form-control">
                    <script>
                        var inputFecha4 = document.getElementById('fechaActual4');
                        var fecha4 = new Date().toISOString().slice(0, 10);
                        inputFecha4.value = fecha4;
                    </script>
                </div>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-md-4">
                <div class="form-group mb-4">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked2" checked
                            style="zoom: 1.5;">
                        <label class="form-check-label" for="flexCheckChecked2" style="font-size: 20px;">
                            Seguro todo riesgo
                        </label>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group mb-4">
                    <input type="number" class="form-control form-control-lg" id="input11" style="height: 50px;"
                        placeholder="Número de documento">
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group mb-4">
                    <label for="fechaActual5">Fecha de documento</label>
                    <input type="date" id="fechaActual5" class="form-control">
                    <script>
                        var inputFecha5 = document.getElementById('fechaActual5');
                        var fecha5 = new Date().toISOString().slice(0, 10);
                        inputFecha5.value = fecha5;
                    </script>
                </div>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-md-4">
                <div class="form-group mb-4">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked3" checked
                            style="zoom: 1.5;">
                        <label class="form-check-label" for="flexCheckChecked3" style="font-size: 20px;">
                            Seguro de asistencia en viajes
                        </label>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group mb-4">
                    <input type="number" class="form-control form-control-lg" id="input12" style="height: 50px;"
                        placeholder="Número de documento">
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group mb-4">
                    <label for="fechaActual6">Fecha de documento</label>
                    <input type="date" id="fechaActual6" class="form-control">
                    <script>
                        var inputFecha6 = document.getElementById('fechaActual6');
                        var fecha6 = new Date().toISOString().slice(0, 10);
                        inputFecha6.value = fecha6;
                    </script>
                </div>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-md-4">
                <div class="form-group mb-4">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked4" checked
                            style="zoom: 1.5;">
                        <label class="form-check-label" for="flexCheckChecked4" style="font-size: 20px;">
                            Seguro de accidentes personales para ocupantes
                        </label>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group mb-4">
                    <input type="number" class="form-control form-control-lg" id="input13" style="height: 50px;"
                        placeholder="Número de documento">
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group mb-4">
                    <label for="fechaActual7">Fecha de documento</label>
                    <input type="date" id="fechaActual7" class="form-control">
                    <script>
                        var inputFecha7 = document.getElementById('fechaActual7');
                        var fecha7 = new Date().toISOString().slice(0, 10);
                        inputFecha7.value = fecha7;
                    </script>
                </div>
            </div>
        </div>
        <script>
            // Función para habilitar o deshabilitar campos de texto y fecha
            function toggleFields1() {
                var checkbox = document.getElementById('flexCheckDefault');
                var input7 = document.getElementById('input9');
                var fechaActual3 = document.getElementById('fechaActual3');

                if (checkbox.checked) {
                    input7.disabled = false;
                    fechaActual3.disabled = false;
                } else {
                    input7.disabled = true;
                    fechaActual3.disabled = true;
                }
            }

            function toggleFields2() {
                var checkbox = document.getElementById('flexCheckChecked');
                var input8 = document.getElementById('input10');
                var fechaActual4 = document.getElementById('fechaActual4');

                if (checkbox.checked) {
                    input8.disabled = false;
                    fechaActual4.disabled = false;
                } else {
                    input8.disabled = true;
                    fechaActual4.disabled = true;
                }
            }

            function toggleFields3() {
                var checkbox = document.getElementById('flexCheckChecked2');
                var input9 = document.getElementById('input11');
                var fechaActual5 = document.getElementById('fechaActual5');

                if (checkbox.checked) {
                    input9.disabled = false;
                    fechaActual5.disabled = false;
                } else {
                    input9.disabled = true;
                    fechaActual5.disabled = true;
                }
            }

            function toggleFields4() {
                var checkbox = document.getElementById('flexCheckChecked3');
                var input10 = document.getElementById('input12');
                var fechaActual6 = document.getElementById('fechaActual6');

                if (checkbox.checked) {
                    input10.disabled = false;
                    fechaActual6.disabled = false;
                } else {
                    input10.disabled = true;
                    fechaActual6.disabled = true;
                }
            }

            function toggleFields5() {
                var checkbox = document.getElementById('flexCheckChecked4');
                var input11 = document.getElementById('input13');
                var fechaActual7 = document.getElementById('fechaActual7');

                if (checkbox.checked) {
                    input11.disabled = false;
                    fechaActual7.disabled = false;
                } else {
                    input11.disabled = true;
                    fechaActual7.disabled = true;
                }
            }

            // Escuchar los cambios en los checkboxes y llamar a las funciones correspondientes
            document.getElementById('flexCheckDefault').addEventListener('change', toggleFields1);
            document.getElementById('flexCheckChecked').addEventListener('change', toggleFields2);
            document.getElementById('flexCheckChecked2').addEventListener('change', toggleFields3);
            document.getElementById('flexCheckChecked3').addEventListener('change', toggleFields4);
            document.getElementById('flexCheckChecked4').addEventListener('change', toggleFields5);

            // Deshabilitar campos al cargar la página
            toggleFields1();
            toggleFields2();
            toggleFields3();
            toggleFields4();
            toggleFields5();
        </script>
    </div>
    <div class="text-center">
        <button type="submit" class="btn btn-primary btn-lg">Guardar</button>
    </div>
</form>